# LAB 04.03
##### Họ và tên: Nguyễn Minh Thành - MSSV: 25521710
---
## Đề bài
1. Nhập vào 1 kết quả trúng thưởng xổ số Vietlott6/45 (là 6 số trong tập hợp {1..45}). Tạo ngẫu nhiên một bộ 6 số trong tập hợp trên (ứng với việc lấy ngẫu nhiên 1 tờ vé số) và dò xem có trúng không - trúng giải gì.
Lặp lại việc trên N lần, xác định tỷ lệ % giữa số tiền trúng số và số tiền đã bỏ ra mua vé. Biết giá 1 vé là 10k ; cơ cấu giải thưởng là trúng 30k nếu trùng được 3 số, 300k nếu trùng 4 số, 10.000k nếu trùng 5 số, 12.000.000k nếu trùng đủ 6 số. 
2. TEN + TEN + FORTY = SIXTY
Viết chương trình tính ONE và SIX. Biết rằng mỗi chữ cái là một chữ số khác nhau.

## Thuật toán
#### Câu 1:
- Sau khi có kết quả trúng thưởng, ta sinh ngẫu nhiên 6 số khác nhau trong tập {1..45} để tạo một vé số. Thực hiện đếm xem vé này trùng bao nhiêu số với kết quả trúng thưởng và cộng thêm số tiền trúng tương ứng.
- Số tiền đã chi để mua vé là `N * 10k`
- Tỉ lệ phần trăm được tính theo công thức: `(Tổng tiền trúng / Tổng tiền đã chi) * 100%`
#### Câu 2:
- Duyệt mọi hoán vị 10 chữ số gán cho `F,O,R,T,Y,E,N,S,I,X`, bỏ qua hoán vị có chữ đầu bằng 0, tính `TEN, FORTY, SIXTY`, kiểm tra `TEN+TEN+FORTY=SIXTY`, nếu đúng thì in nghiệm và tính `ONE, SIX`.

## Source code
#### Câu 1:
```c++
#include <bits/stdc++.h>
using namespace std;
#define ll long long

mt19937 rd(time(0));

#define JUDGE(name) if (fopen(name".inp", "r")) { freopen(name".inp","r",stdin); freopen(name".out","w",stdout); }
const int MAXN = 1e5+36;
const int priceWon[] = {0,0,0,30,300,10000,12000000};

// --- hàm sinh ngẫu nhiên trong [l, r] ---
int Rand (int l, int r) { 
    assert(l <= r);
    uniform_int_distribution<int> dis(l, r);
    return dis(rd);
}

// --- hàm sắp xếp nhanh ---
void QuickSort (int a[], int n) {
    if (n <= 1) return;
    int pivot = a[n / 2];
    int i = 0, j = n - 1;
    while (i <= j) {
        while (a[i] < pivot) i++;
        while (a[j] > pivot) j--;
        if (i <= j) {
            swap(a[i], a[j]);
            i++; j--;
        }
    }
    QuickSort(a, j + 1);
    QuickSort(a + i, n - i);
}

/*
// --- hàm sinh vé số ngẫu nhiên có ít nhất 1 số trúng ---
void RandomTicket (int ticket[], int win[], int n) {
    bool used[46];
    memset(used, 0, sizeof(used));
    int cnt = 0;

    // đảm bảo có 1 số trúng
    int idx = rand() % 6;
    ticket[cnt++] = win[idx];
    used[win[idx]] = true;

    // điền các số còn lại
    while (cnt < n) {
        int num = Rand(1,45);
        if (!used[num]) {
            ticket[cnt++] = num;
            used[num] = true;
        }
    }
    QuickSort(ticket, n);
}
*/

// --- hàm lấy vé số ngẫu nhiên ---
void getTicket (int ticket[], int n) {
    bool used[46];
    memset(used, 0, sizeof(used));
    int cnt = 0;
    while (cnt < n) {
        int num = Rand(1,45);
        if (!used[num]) {
            ticket[cnt++] = num;
            used[num] = true;
        }
    }
    QuickSort(ticket, n);
}

int countMatch (int ticket[], int win[], int n) {
    int cnt = 0, i = 0, j = 0;
    while (i < n && j < n) {
        if (ticket[i] == win[j]) {
            cnt++;
            i++; j++;
        } else if (ticket[i] < win[j]) i++;
        else j++;
    }
    return cnt;
}

void printArray (int arr[], int n) {
    for (int i = 0; i < n; i++) {
        cout << arr[i] << " ";
    }
    cout << "\n";
}

int main() {
    int n,win[6];
    cout << "Nhap 6 so ket qua trung thuong: ";
    for(int i=0; i<6; i++) cin >> win[i];
    QuickSort(win, 6);
    cout << "Nhap so lan mua ve: ";
    cin >> n;
    ll total_spend = 10 * n, total_win = 0;

    int ticket[6];
    while (n--) {
        getTicket(ticket, 6);
        int matches = countMatch(ticket, win, 6);
        total_win += priceWon[matches];
    }

    double rate = 100 * (double)total_win / (double)total_spend;
    cout << fixed << setprecision(3);
    cout << "Ti le giua so tien trung va so tien mua ve: " << rate << "%\n";

    return 0;
}
```
#### Câu 2:
```c++
#include <bits/stdc++.h>
using namespace std;
#define ll long long

mt19937 rd(time(0));

#define JUDGE(name) if (fopen(name".inp", "r")) { freopen(name".inp","r",stdin); freopen(name".out","w",stdout); }
const int MAXN = 1e5+36;
char letter[] = {'F', 'O', 'R', 'T', 'Y', 'E', 'N', 'S', 'I', 'X'};

int main() {
    int perm[10], d[30];
    for(int i=0; i<10; i++) perm[i] = i;

    do {
        for(int i=0; i<10; i++) d[(int)letter[i] - 'A'] = perm[i];
        if(d['F' - 'A'] == 0 || d['S' - 'A'] == 0 || d['T' - 'A'] == 0 || d['O' - 'A'] == 0) continue;

        int ten = d['T' - 'A'] * 100 + d['E' - 'A'] * 10 + d['N' - 'A'];
        int forty = d['F' - 'A'] * 10000 + d['O' - 'A'] * 1000 + d['R' - 'A'] * 100 + d['T' - 'A'] * 10 + d['Y' - 'A'];
        int sixty = d['S' - 'A'] * 10000 + d['I' - 'A'] * 1000 + d['X' - 'A'] * 100 + d['T' - 'A'] * 10 + d['Y' - 'A'];

        if (ten + ten + forty == sixty) {
            for(int i=0; i<10; i++) {
                cout << letter[i] << " " << perm[i] << endl;
            }

            cout << "TEN = " << ten << endl;
            cout << "FORTY = " << forty << endl;
            cout << "SIXTY = " << sixty << endl;

            int one = d['O' - 'A'] * 100 + d['N' - 'A'] * 10 + d['E' - 'A'];
            int six = d['S' - 'A'] * 100 + d['I' - 'A'] * 10 + d['X' - 'A'];
            cout << "ONE = " << one << endl;
            cout << "SIX = " << six << endl;
            break;
        }
    } while(next_permutation(perm, perm + 10));

    return 0;
}
```

